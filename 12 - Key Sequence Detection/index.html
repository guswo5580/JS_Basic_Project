<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Key Detection</title>
  <script type="text/javascript" src="https://www.cornify.com/js/cornify.js"></script>
</head>

<body>
  <script>
    const pressed = [];
    const secretCode = 'wesbos';

    //keyup : 숫자, 글자, 특수 기호 등 키보드를 이용한 이벤트를 인식 
    window.addEventListener('keyup', (e) => {
      //console.log(e.key);

      pressed.push(e.key);

      //splice(index, value) : index를 기준으로 value만큼 정보를 삭제
      //index = 음수일 경우!!, 배열의 뒤에서부터 삭제!!! , 배열의 길이와 같거나 큰 수를 지정할 경우, 빈 배열을 반환
      //secretCode.length = 6 --- wesbos
      //따라서 -secretCode.length - 1 --- 뒤에서 7번째가 기준점이 된다!!


      // pressed.splice(-secretCode.length - 1, pressed.length - secretCode.length);
      if (pressed.length > 6) {
        pressed.splice(0, 1);
      }

      if (pressed.join('').includes(secretCode)) { //각각의 문자열을 포함한 배열을 join하여 secretCode의 포함여부 확인
        console.log('Find!!');
        cornify_add();
      }
      console.log(pressed);
    });
  </script>
</body>

</html>